{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\ndocument.addEventListener('DOMContentLoaded', function (event) {\n  /* Avatar upload functionality for user registration */\n  var readURL = function readURL(input) {\n    if (input.files && input.files[0]) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        $('.profile-pic').attr('src', e.target.result);\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n\n  $(\".file-upload\").on('change', function () {\n    readURL(this);\n  });\n  $(\".upload-button\").on('click', function () {\n    $(\".file-upload\").click();\n  });\n  /* Scroll to the developers section when the start button is clicked */\n\n  var startBtn = document.getElementById('js-start-btn');\n  var devSection = document.getElementById('js-developers');\n\n  if (startBtn !== null) {\n    startBtn.addEventListener('click', function (event) {\n      event.preventDefault();\n      devSection.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    });\n  }\n  /* Change the background color and innerHTML when the online button is hovered */\n\n\n  var onlineBtn = document.getElementById('js-onlinebtn');\n\n  if (onlineBtn !== null) {\n    onlineBtn.addEventListener('mouseover', function (event) {\n      onlineBtn.style.backgroundColor = \"red\";\n      onlineBtn.style.borderColor = \"red\";\n      onlineBtn.innerHTML = \"Go offline\";\n    });\n    onlineBtn.addEventListener('mouseout', function (event) {\n      onlineBtn.style.backgroundColor = \"#3DC794\";\n      onlineBtn.style.borderColor = \"#3DC794\";\n      onlineBtn.innerHTML = \"You are online\";\n    });\n  }\n\n  var cameraIcons = document.getElementsByClassName('camera-icon');\n\n  var _iterator = _createForOfIteratorHelper(cameraIcons),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var item = _step.value;\n      item.addEventListener('click', function (event) {\n        event.preventDefault();\n        var recipient_id = item.getAttribute(\"data-id\");\n        var recipient_name = item.getAttribute(\"data-name\");\n        console.log(recipient_id);\n        console.log(recipient_name);\n        var recipient_name_modal = document.getElementById('recipient_name_modal');\n        recipient_name_modal.innerHTML = recipient_name;\n        $('#sender-notif-modal').modal('show');\n        roomSubscriber.call(recipient_id);\n      });\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    } // Call the answer method when the answer_btn is clicked.\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var answerBtn = document.getElementById(\"answer-call\");\n  answerBtn.addEventListener('click', function (event) {\n    event.preventDefault();\n    var session_id = document.getElementById(\"session_id\").innerHTML;\n    var sender_id = document.getElementById('sender_id').innerHTML;\n    console.log(session_id);\n    console.log(\"answer btn clicked\");\n    $('#receiver-notif-modal').modal('hide');\n    roomSubscriber.answer(session_id, sender_id);\n  });\n});","map":{"version":3,"sources":["/home/linux/Desktop/chat/driversnote2/app/javascript/packs/script.js"],"names":["document","addEventListener","event","readURL","input","files","reader","FileReader","onload","e","$","attr","target","result","readAsDataURL","on","click","startBtn","getElementById","devSection","preventDefault","scrollIntoView","behavior","block","onlineBtn","style","backgroundColor","borderColor","innerHTML","cameraIcons","getElementsByClassName","item","recipient_id","getAttribute","recipient_name","console","log","recipient_name_modal","modal","roomSubscriber","call","answerBtn","session_id","sender_id","answer"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', (event) => {\n\n  /* Avatar upload functionality for user registration */\n  var readURL = function(input) {\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n                $('.profile-pic').attr('src', e.target.result);\n            }\n    \n            reader.readAsDataURL(input.files[0]);\n        }\n  }\n   \n  $(\".file-upload\").on('change', function(){\n      readURL(this);\n  });\n    \n  $(\".upload-button\").on('click', function() {\n      $(\".file-upload\").click();\n  });\n  \n  /* Scroll to the developers section when the start button is clicked */\n  const startBtn = document.getElementById('js-start-btn')\n  const devSection = document.getElementById('js-developers')\n  if (startBtn !== null) {\n    startBtn.addEventListener('click', (event) => {\n      event.preventDefault()\n      devSection.scrollIntoView({behavior: 'smooth', block: 'start'})\n    })\n  }\n  \n  \n  /* Change the background color and innerHTML when the online button is hovered */\n  const onlineBtn = document.getElementById('js-onlinebtn')\n  if( onlineBtn !== null) {\n    \n        onlineBtn.addEventListener('mouseover', (event) => {\n            onlineBtn.style.backgroundColor = \"red\"\n            onlineBtn.style.borderColor = \"red\"\n            onlineBtn.innerHTML = \"Go offline\"\n    \n        })\n    \n        onlineBtn.addEventListener('mouseout', (event) => {\n            onlineBtn.style.backgroundColor = \"#3DC794\"\n            onlineBtn.style.borderColor = \"#3DC794\"\n            onlineBtn.innerHTML = \"You are online\"\n    \n        })\n  }\n  \n  \n  var cameraIcons = document.getElementsByClassName('camera-icon');\n    for (let item of cameraIcons) {\n      item.addEventListener('click', (event) => {\n        event.preventDefault();\n        var recipient_id = item.getAttribute(\"data-id\");\n        var recipient_name = item.getAttribute(\"data-name\");\n        console.log(recipient_id);\n        console.log(recipient_name);\n        var recipient_name_modal = document.getElementById('recipient_name_modal');\n        recipient_name_modal.innerHTML = recipient_name;\n        $('#sender-notif-modal').modal('show');\n        \n        roomSubscriber.call(recipient_id);\n      })\n    }\n\n    // Call the answer method when the answer_btn is clicked.\n    const answerBtn = document.getElementById(\"answer-call\");\n    answerBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      var session_id = document.getElementById(\"session_id\").innerHTML;\n      var sender_id = document.getElementById('sender_id').innerHTML;\n      console.log(session_id);\n      console.log(\"answer btn clicked\");\n      $('#receiver-notif-modal').modal('hide');\n      roomSubscriber.answer(session_id, sender_id);\n    });\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n})"]},"metadata":{},"sourceType":"module"}